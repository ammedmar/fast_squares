%!TEX root = ../fast_sq.tex

\section{Cup-\texorpdfstring{$i$}{i} constructions and Steenrod squares} \label{s:squares}

Let $\Ftwo$ be the field with two elements and $\Sym_2$ the group with only one non-identity element $T$.
In this section we define for any simplicial complex $X$ and every integer $k$ the $k^\th$ Steenrod square
\begin{equation*}
Sq^k \colon H^\bullet(X; \Ftwo) \to H^{\bullet}(X; \Ftwo)
\end{equation*}
using an arbitrary cup-$i$ construction.

\subsection{Cup-$i$ constructions}

Consider the chain complex
\begin{equation*}
\begin{tikzcd}[column sep=normal]
& W =  \Ftwo[\Sym_2]\{e_0\} & \arrow[l, "1+T"'] \Ftwo[\Sym_2]\{e_1\} & \arrow[l, "1+T"']
\Ftwo[\Sym_2]\{e_2\} & \arrow[l, "1+T"'] \cdots
\end{tikzcd}
\end{equation*}
with its natural $\Sym_2$-action.
For any simplicial complex $X$, the chain complex $W \otimes C_\bullet(X; \Ftwo)$ has an $\Sym_2$-action concentrated on the left factor, and $C_\bullet(X; \Ftwo)^{\otimes 2}$ has one given by transposition of factors.

We are interested in $\Sym_2$-equivariant chain maps
\begin{equation} \label{e:steenrod diagonal}
\Delta_X \colon W \otimes C_\bullet(X; \Ftwo) \to C_\bullet(X; \Ftwo)^{\otimes 2}
\end{equation}
defined naturally for every simplicial complex $X$, i.e., such that $\Delta_Y \circ (\id_W \otimes f_\bullet) = (f_\bullet \otimes f_\bullet) \circ \Delta_X$ for any simplicial map $f \colon X \to Y$.

\begin{definition}
	A \textit{cup-$i$ construction} is a natural collection of maps as above such that $\Delta_X \neq 0$ if $X$ is a simplicial complex with a single vertex.
\end{definition}

A cup-$i$ construction is determined by a collection $\{\Delta_i\}_{i \in \Z}$ of natural linear maps $C_\bullet \to C_\bullet^{\otimes 2}$ satisfying $\Delta_0 \big([v]\big) \neq 0$ for any vertex $v$ and
\begin{equation} \label{e:boundary of cup-i}
(1 + T) \Delta_{i-1} = \partial \circ \Delta_i + \Delta_i \circ \partial
\end{equation}
for any $i \in \Z$.
The correspondence is given by $\Delta_i = \Delta(e_i \otimes -)$, and we refer to the map $\Delta_i$ as the \textit{cup-$i$ coproduct} of the cup-$i$ construction, and to the linear dual $\smallsmile_i$ of $\Delta_i$ as its \textit{cup-$i$ product}.
Explicitly, given two cochains $\alpha$ and $\beta$ and a chain $c$ we have
\begin{equation*}
(\alpha \smallsmile_i \beta)(c) = (\alpha \otimes \beta) \Delta_i(c).
\end{equation*}

\subsection{Steenrod squares}

Let us consider a cup-$i$ construction $W \otimes C_\bullet \to C_\bullet^{\otimes 2}$.
Using the linear duality functor and passing to fix points gives a chain map
\begin{equation*}
\begin{tikzcd}
\Hom\left(C_\bullet \otimes C_\bullet, \Ftwo \right)^{\Sym_2} \arrow[r] &
\Hom\left(W \otimes C_\bullet, \Ftwo \right)^{\Sym_2},
\end{tikzcd}
\end{equation*}
which we can complete, using isomorphisms \eqref{e:adjunction isomorphism} and \eqref{e:invariant hom iso hom coinvariants} of \cref{s:preliminaries}, to a commutative diagram
\begin{equation*}
\begin{tikzcd}
\Hom\left(C_\bullet \otimes C_\bullet, \Ftwo \right)^{\Sym_2} \arrow[r] &
\Hom\left(W \otimes C_\bullet, \Ftwo \right)^{\Sym_2} \arrow[d] \\
\left(C^\bullet \otimes C^\bullet\right)^{\Sym_2} \arrow[u]&
\Hom\left(W_{\Sym_2} \otimes C_\bullet, \Ftwo \right) \arrow[d] \\
C^\bullet \arrow[u, "doubleing"] \arrow[r, dashed]&
\Hom\left(W_{\Sym_2}, C^\bullet\right),
\end{tikzcd}
\end{equation*}
where the choice of coefficients ensures that the \textit{doubleing map} $\alpha \mapsto \alpha \otimes \alpha$ is linear.
Using the adjunction isomorphism, the dashed arrow defines a linear map
\begin{equation} \label{e:Steenrod squares parameterized}
\begin{tikzcd}[row sep=0pt, column sep = small]
C^\bullet \otimes W_{\Sym_2} \arrow[r] &[-10pt] C^\bullet \\
\alpha \otimes e_i \arrow[r, |->] & (\alpha \otimes \alpha)\Delta_i(-)
\end{tikzcd}
\end{equation}
descending to mod $2$ cohomology.
The Steenrod squares are defined by reindexing this map.
Explicitly,
\begin{definition} \label{d:steenrod squares}
	The \textit{$k^\th$ Steenrod square} is defined by
	\begin{equation} \label{e:steenrod squares}
	\begin{tikzcd}[row sep=0pt, column sep=tiny]
	Sq^k \colon H^{-n} \arrow[r] & H^{-n-k} \\
	\phantom{Sq^k \colon}{[\alpha]} \arrow[r, |->] & {\left[(\alpha \otimes \alpha)\Delta_{n-k}(-) \right]}.
	\end{tikzcd}
	\end{equation}
	for any cup-$i$ construction $\Delta$.
\end{definition}

\subsection{Additional comments}

\begin{remark}[Simplicial sets]
	For the interested reader we mention that a cup-$i$ construction also defines, through a well known categorical construction, natural cup-$i$ coproducts on the chains of simplicial sets \cite{friedman2012simplicial} and, consequently, Steenrod squares in their mod 2 cohomology.
\end{remark}

\begin{remark}[Cup product] \label{r:cup product}
	Although in this article we do not use the algebra structure on the mod~2 cohomology of spaces, we remark that the cup-$0$ product of a cup-$i$ construction represents these so-called \textit{cup product}.
	Explicitly, if $[\alpha], [\beta] \in H^\bullet$ then $[\alpha][\beta] = [\alpha \smallsmile_0 \beta]$, in particular, if $[\alpha]$ is of degree $-k$ then $Sq^k\big([\alpha]\big) = [\alpha] [\alpha]$, which motivates the term squares in the name of the $Sq^k$ operations.
\end{remark}

\begin{remark}[Odd primes]
	For the reader familiar with group homology, we remark that Steenrod squares are parameterized by classes on the mod $2$ homology of $\Sym_2$.
	Steenrod used this group homology viewpoint to non-constructively define operations on the mod $p$ cohomology of spaces \cite{steenrod1962cohomology} for any prime $p$.
	To define these constructively, analogues of the $\Delta_i$ maps for odd primes were introduced in \cite{medina2021maysteenrod} and implemented in \cite{medina2021computer}.
\end{remark}